---
title: "Santa Barbara Urchins"
author: "Katherine Rosencrance"
date: "10/25/2021"
output: html_document
---

# Overview

This code wrangles and visualizes data for red and purple urchins obtained by Santa Barbara Coastal Long Term Ecological Research program divers. These data were collected in 2020 along 5 different long-term kelp removal sites. It has been wrangled to draw conclusions about

**Data Citation** Santa Barbara Coastal LTER and D. Reed. 2020. SBC LTER: Reef: Long-term experiment: Kelp removal: Urchin size frequency distribution ver 20. Environmental Data Initiative. https://doi.org/10.6073/pasta/5a1e9ef03aa47bd2225c0bb98a02a63b (Accessed 2021-10-25).

#Setup
Attach the appropriate packages.
```{r setup }
knitr::opts_chunk$set(echo = TRUE, message = FALSE, warning = FALSE) #we do not want messages or warnings showing up in our entire html
library(tidyverse)
library(here)
library(janitor)
library(kableExtra)
library(lubridate)

```


#Read in the Data
Read in the data and change all the column titles to be in lower_snake_case.
```{r}
urchins <- read_csv(here("data", "urchins.csv")) %>% 
  clean_names()           #convert to lower_snake_case
```

# Wrangle and Visualize the Data
Create a histogram to compare the distribution of sizes between red and purple urchins

### Histogram of Purple and Red Sea Urchin Size 
```{r}
ggplot(data = urchins,
       aes(x = size, fill = common_name))+
  scale_fill_manual(values = c("purple", "red"), name = "Common name") +
         geom_histogram(bins = 10, color = "black") +
  facet_wrap(~common_name) +
  labs( x = "Diameter (cm)",
        y = "Number of Urchins",
        title = "Red and Purple Urchin Size Distribution")+

## Title adjustment
theme(plot.title = element_text (face = "bold", hjust = 0.5))

```
Figure 1. 


### Table with SUmmary Statistics
```{r}
urchins %>% 
  group_by(common_name) %>% 
  summarize(mean_size = mean(size, na.rm = TRUE),   ## Create summary statistics including mean, standard deviation, and sample size
            median_size = median(size, na.rm = TRUE),
            sd_size = sd(size, na.rm = TRUE),
            sample_size = n()) %>% 

kbl(caption = "Table 1: Summary Statistics of Red and Purple Urchin Size",
    col.names = c("Common Name",
                  "Mean (cm)",
                  "Median (cm)",
                  "Standard Deviation (cm)",
                  "Sample Size"),
    digits = 1) %>% 
  kable_minimal()

            
```
```{r}

```





